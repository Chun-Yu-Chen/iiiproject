# -*- coding: utf-8 -*- 
import requests
import urlparse
from bs4 import BeautifulSoup,Comment

def remove_space(element):
	return  "".join(element.strip().split(" "))
##取得頁數
file = open('tainan_nature_spot.txt','w')
file.write("景點名稱|旅遊區域|旅遊主題|相關網址|地址|電話|美食資訊|住宿資訊|附近景點|建議停留|景點介紹"+"\n")
tainan_nature_link='http://tour.tainan.gov.tw/view.aspx?subject=nature'
tainan_nature = requests.get(tainan_nature_link) 
tainan_nature_text = tainan_nature.text.encode('utf-8')
tainan_nature_soup=BeautifulSoup(tainan_nature_text)
tainan_nature_page_number = tainan_nature_soup.find('span',{"id":"View1_SpotList1_lblPageCount"}).text.encode('utf-8')

##每頁取資料
for page in range(1,int(tainan_nature_page_number)+1):
    form_data_number='第'+str(page)+'頁'

    payload = { '__EVENTTARGET':'View1:SpotList1:ddlPageList'
      ,'__EVENTARGUMENT':''
      ,'__VIEWSTATE':'dDwtMTUzODMyOTkxNDt0PDtsPGk8MT47PjtsPHQ8O2w8aTwxPjtpPDM+Oz47bDx0PHA8cDxsPFN1YmplY3Q7RGlzcGxheTtTbjtOb2RlSUQ7PjtsPG5hdHVyZTs7Ozs+Pjs+O2w8aTwwPjtpPDE+O2k8Mj47aTw2PjtpPDc+Oz47bDx0PHA8cDxsPFNOO3NuO1N1Yk1lbnVJRDtwYXRoOz47bDxcZTs7NjtodHRwOz4+Oz47bDxpPDE+O2k8Mj47aTwzPjtpPDQ+O2k8NT47aTw2Pjs+O2w8dDxAMDxwPHA8bDxfIUl0ZW1Db3VudDtEYXRhS2V5czs+O2w8aTw5PjtsPD47Pj47Pjs7Ozs7Ozs7PjtsPGk8MD47aTwxPjtpPDI+O2k8Mz47aTw0PjtpPDU+O2k8Nj47aTw3PjtpPDg+Oz47bDx0PDtsPGk8MT47aTwzPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PW1vdW50YWluO+eZu+WxseatpemBkzvnmbvlsbHmraXpgZM7Pj47Oz47dDxwPGw8VGV4dDs+O2w84pSCOz4+Ozs+Oz4+O3Q8O2w8aTwxPjtpPDM+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3N1YmplY3Q9bmF0dXJlO+eUn+aFi+izh+a6kDvnlJ/mhYvos4fmupA7Pj47Oz47dDxwPGw8VGV4dDs+O2w84pSCOz4+Ozs+Oz4+O3Q8O2w8aTwxPjtpPDM+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3N1YmplY3Q9Z2VvZ3JhcGh5O+iHqueEtuWcsOaZrzvoh6rnhLblnLDmma87Pj47Oz47dDxwPGw8VGV4dDs+O2w84pSCOz4+Ozs+Oz4+O3Q8O2w8aTwxPjtpPDM+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3N1YmplY3Q9aG90c3ByaW5nO+a6q+azieW6puWBhzvmuqvms4nluqblgYc7Pj47Oz47dDxwPGw8VGV4dDs+O2w84pSCOz4+Ozs+Oz4+O3Q8O2w8aTwxPjtpPDM+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3N1YmplY3Q9Y3VsdHVyZTvkurrmlofol53ooZM75Lq65paH6Jed6KGTOz4+Ozs+O3Q8cDxsPFRleHQ7PjtsPOKUgjs+Pjs7Pjs+Pjt0PDtsPGk8MT47aTwzPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PXJlc29ydDvkvJHplpLovrLloLQ75LyR6ZaS6L6y5aC0Oz4+Ozs+O3Q8cDxsPFRleHQ7PjtsPOKUgjs+Pjs7Pjs+Pjt0PDtsPGk8MT47aTwzPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTt0YXJnZXQ7aW5uZXJodG1sOz47bDxodHRwOi8vdG91ci50YWluYW4uZ292LnR3L3RlbXBsZTvlrpfmlZnlkI3lu587X2JsYW5rO+Wul+aVmeWQjeW7nzs+Pjs7Pjt0PHA8bDxUZXh0Oz47bDzilII7Pj47Oz47Pj47dDw7bDxpPDE+O2k8Mz47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7dGFyZ2V0O2lubmVyaHRtbDs+O2w8aHR0cDovL3cyLWN1bHR1cmUudGFpbmFuLmdvdi50dy9jb21tdW5pdHkvO+WPsOWNl+aWh+WMlumkqDtfYmxhbms75Y+w5Y2X5paH5YyW6aSoOz4+Ozs+O3Q8cDxsPFRleHQ7PjtsPOKUgjs+Pjs7Pjs+Pjt0PDtsPGk8MT47aTwzPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9ub2RlaWQ9MTI4MDA76KeA5YWJ5bel5bugO+ingOWFieW3peW7oDs+Pjs7Pjt0PHA8bDxUZXh0Oz47bDzilII7Pj47Oz47Pj47Pj47dDxAMDxwPHA8bDxfIUl0ZW1Db3VudDtEYXRhS2V5czs+O2w8aTwxMD47bDw+Oz4+Oz47Ozs7Ozs7Oz47bDxpPDA+O2k8Mj47aTw0PjtpPDY+O2k8OD47aTwxMD47aTwxMj47aTwxND47aTwxNj47aTwxOD47PjtsPHQ8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2FjdGlvbi5hc3B4P25vZGVpZD0xMjg5MTvlj7DljZfnvo7po5/nr4A75Y+w5Y2X576O6aOf56+AOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2FjdGlvbi5hc3B4P25vZGVpZD0xMjg1MTsyMDE05bm05Y+w5Y2X5paw5pil5rS75YuVOzIwMTTlubTlj7DljZfmlrDmmKXmtLvli5U7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vYWN0aW9uLmFzcHg/bm9kZWlkPTEyNzUzO+W5tOW6pua0u+WLlee4veihqDvlubTluqbmtLvli5XnuL3ooag7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vYWN0aW9uLmFzcHg/c2Vhc29uPXNwcmluZzvmmKXmmpboirHplos75pil5pqW6Iqx6ZaLOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2FjdGlvbi5hc3B4P3NlYXNvbj1zdW1tZXI75aSP5pel6aKo5oOFO+Wkj+aXpemiqOaDhTs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9hY3Rpb24uYXNweD9zZWFzb249ZmFsbDvnp4vmpZPpo4TokYk756eL5qWT6aOE6JGJOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2FjdGlvbi5hc3B4P3NlYXNvbj13aW50ZXI75Yas6Zm95pqW5pqWO+WGrOmZveaaluaaljs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9hY3Rpb24uYXNweD9TeXM9Rm9sa0Zlc3RpdmFsO+awkeS/l+evgOaFtjvmsJHkv5fnr4DmhbY7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vYWN0aW9uLmFzcHg/U3lzPWN1bHR1cmVOZXc755Si5qWt5paH5YyW5rS75YuVO+eUoualreaWh+WMlua0u+WLlTs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7dGFyZ2V0O2lubmVyaHRtbDs+O2w8aHR0cDovL3RvdXIudGFpbmFuLmdvdi50dy90ZW1wbGUvY2hpbmVzZS9kZWZhdWx0LmFzcHg75a6X5pWZ6KeA5YWJ57ay56uZO19ibGFuazvlrpfmlZnop4DlhYnntrLnq5k7Pj47Oz47Pj47Pj47dDxAMDxwPHA8bDxfIUl0ZW1Db3VudDtEYXRhS2V5czs+O2w8aTw1PjtsPD47Pj47Pjs7Ozs7Ozs7PjtsPGk8MD47aTwyPjtpPDQ+O2k8Nj47aTw4Pjs+O2w8dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vcGxhbi5hc3B4P25vZGVpZD0xMjgyNjvlj7DljZfnsbPlhbbmnpfkuInmmJ/kuYvml4U75Y+w5Y2X57Gz5YW25p6X5LiJ5pif5LmL5peFOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3BsYW4uYXNweDvmjqjolqbooYznqIs75o6o6Jam6KGM56iLOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3BsYW4uYXNweD9ub2RlaWQ9MTI4MTU754Sh6Zqc56SZ5peF6YGK5bCI5Y2AO+eEoemanOekmeaXhemBiuWwiOWNgDs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9wbGFuLmFzcHg/bm9kZWlkPTEyODE2O+WPsOWNl+W5uee3muWFrOi7iuaXhemBiuihjOeoi+WwiOWNgDvlj7DljZflubnnt5rlhazou4rml4XpgYrooYznqIvlsIjljYA7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vcGxhbi5hc3B4P25vZGVpZD0xMjgyNDvlj7DngaPljYHlpKflubjnpo/lpb3njqnpgYrnqIs75Y+w54Gj5Y2B5aSn5bm456aP5aW9546p6YGK56iLOz4+Ozs+Oz4+Oz4+O3Q8QDA8cDxwPGw8XyFJdGVtQ291bnQ7RGF0YUtleXM7PjtsPGk8MTE+O2w8Pjs+Pjs+Ozs7Ozs7Ozs+O2w8aTwwPjtpPDI+O2k8ND47aTw2PjtpPDg+O2k8MTA+O2k8MTI+O2k8MTQ+O2k8MTY+O2k8MTg+O2k8MjA+Oz47bDx0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi90cmF2ZWwuYXNweD9zeXM9aG9zcGljZTvkvY/lrr/os4foqIo75L2P5a6/6LOH6KiKOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3RyYXZlbC5hc3B4P3N5cz1maW5lZm9vZDvntpPlhbjnvo7po5/lj4rkvLTmiYvnpq4757aT5YW4576O6aOf5Y+K5Ly05omL56auOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3RyYXZlbC5hc3B4P25vZGVpZD0xMjI3MTvkuqTpgJros4foqIo75Lqk6YCa6LOH6KiKOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3RyYXZlbC5hc3B4P25vZGVpZD0xMjc3Mjvml4XpgYrmnI3li5nkuK3lv4Pmk5rpu5475peF6YGK5pyN5YuZ5Lit5b+D5pOa6bueOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3RyYXZlbC5hc3B4P25vZGVpZD0xMjc0Njvop4DlhYnoqIjnqIvou4rlsIjljYA76KeA5YWJ6KiI56iL6LuK5bCI5Y2AOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3RyYXZlbC5hc3B4P3N5cz1saW5rO+aXhemBiuizh+ioiuebuOmXnOmAo+e1kDvml4XpgYros4foqIrnm7jpl5zpgKPntZA7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO3RhcmdldDtpbm5lcmh0bWw7PjtsPGh0dHA6Ly9jaXR5YnVzLnRhaW5hbi5nb3YudHcvemgvbmV3cy8xLmh0bWw75bm557ea5YWs6LuKO19ibGFuazvlubnnt5rlhazou4o7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdHJhdmVsLmFzcHg/bm9kZWlkPTEyODIwO+WQiOazleingOWFiemBiuaogualrTvlkIjms5Xop4DlhYnpgYrmqILmpa07Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdHJhdmVsLmFzcHg/bm9kZWlkPTEyODI4O+iHuueBo+WcmOmkkOWkp+i7iuaLvDvoh7rngaPlnJjppJDlpKfou4rmi7w7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vdHJhdmVsLmFzcHg/bm9kZWlkPTEyODI5O+WsiemBiuWPsOWNlyDlt7Tlo6vlpb3nq5k75ayJ6YGK5Y+w5Y2XIOW3tOWjq+WlveermTs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi90cmF2ZWwuYXNweD9ub2RlaWQ9MTI4NTQ76IWz6LiP6LuK56ef6LODO+iFs+i4j+i7iuenn+izgzs+Pjs7Pjs+Pjs+Pjt0PEAwPHA8cDxsPF8hSXRlbUNvdW50O0RhdGFLZXlzOz47bDxpPDQ+O2w8Pjs+Pjs+Ozs7Ozs7Ozs+O2w8aTwwPjtpPDI+O2k8ND47aTw2Pjs+O2w8dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vZmVzdGl2YWwuYXNweD9ub2RlaWQ9MTI4MTQ75Y+w5Y2X5YuV6KeA5YWJ5bCI5Y2AO+WPsOWNl+WLleingOWFieWwiOWNgDs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9mZXN0aXZhbC5hc3B4P25vZGVpZD0xMjI3MDvpm7vlrZBETTvpm7vlrZBETTs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7dGFyZ2V0O2lubmVyaHRtbDs+O2w8aHR0cDovL3ZyLm1pcy5mZXUuZWR1LnR3L3RhaW5hbnZyLzvoh7rljZfmma/pu543MjDluqZWUjtfYmxhbms76Ie65Y2X5pmv6bueNzIw5bqmVlI7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vZmVzdGl2YWwuYXNweD9ub2RlaWQ9MTI4MjU755m+5bm05Y+k6YO96IiH5Y+w54Gj6KeA5YWJO+eZvuW5tOWPpOmDveiIh+WPsOeBo+ingOWFiTs+Pjs7Pjs+Pjs+Pjt0PEAwPHA8cDxsPF8hSXRlbUNvdW50O0RhdGFLZXlzOz47bDxpPDk+O2w8Pjs+Pjs+Ozs7Ozs7Ozs+O2w8aTwwPjtpPDI+O2k8ND47aTw2PjtpPDg+O2k8MTA+O2k8MTI+O2k8MTQ+O2k8MTY+Oz47bDx0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9jdWx0dXJlLmFzcHg/bm9kZWlkPTEyNzYxO+WFrOmWi+izh+ioiuWwiOWNgDvlhazplovos4foqIrlsIjljYA7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vY3VsdHVyZS5hc3B4P25vZGVpZD0xMjgxMjvlhazli5nntbHoqIjlsIjljYA75YWs5YuZ57Wx6KiI5bCI5Y2AOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2N1bHR1cmUuYXNweD9ub2RlaWQ9MTI4MTM76KeA5YWJ5oqV6LOH5bCI5Y2AO+ingOWFieaKleizh+WwiOWNgDs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9jdWx0dXJlLmFzcHg/bm9kZWlkPTEyNzUyO+eUs+iri+aOiOasijvnlLPoq4vmjojmrIo7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO3RhcmdldDtpbm5lcmh0bWw7PjtsPGh0dHA6Ly93d3cudGFpbmFuLmdvdi50dy90YWluYW4vZGVwYXJ0bWVudC5hc3A/bnN1Yj1CMDAwMDA76KGM5pS/6LOH6KiKO19ibGFuazvooYzmlL/os4foqIo7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vY3VsdHVyZS5hc3B4P25vZGVpZD0xMjgwMTvpgYroqqrms5Xos4foqIrlsIjljYA76YGK6Kqq5rOV6LOH6KiK5bCI5Y2AOz4+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL2N1bHR1cmUuYXNweD9ub2RlaWQ9MTI4MDg75rC05Z+f6YGK5oap5rS75YuV5bCI5Y2AO+awtOWfn+mBiuaGqea0u+WLleWwiOWNgDs+Pjs7Pjs+Pjt0PDtsPGk8MT47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi9jdWx0dXJlLmFzcHg/bm9kZWlkPTEyODE3O+WPsOWNl+WVj+i3r+W6lzvlj7DljZfllY/ot6/lupc7Pj47Oz47Pj47dDw7bDxpPDE+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vY3VsdHVyZS5hc3B4P25vZGVpZD0xMjgyMTvpoqjmma/ljYDpmLLngb3pgb/pm6Pot6/nt5rlsIjljYA76aKo5pmv5Y2A6Ziy54G96YG/6Zuj6Lev57ea5bCI5Y2AOz4+Ozs+Oz4+Oz4+Oz4+O3Q8cDxwPGw8TWVudTtTdWJNZW51SUQ7cGF0aDs+O2w8dmlldzsxO3ZpZXc7Pj47PjtsPGk8MD47aTwxPjtpPDU+O2k8Nj47aTw3PjtpPDg+Oz47bDx0PHA8cDxsPFRleHQ7PjtsPOaZr+m7nuS7i+e0uTs+Pjs+Ozs+O3Q8QDA8cDxwPGw8RGF0YUtleXM7XyFJdGVtQ291bnQ7PjtsPGw8PjtpPDEzPjs+Pjs+Ozs7Ozs7Ozs+O2w8aTwxPjtpPDM+O2k8NT47aTw3PjtpPDk+O2k8MTE+O2k8MTM+O2k8MTU+O2k8MTc+O2k8MTk+O2k8MjE+O2k8MjM+O2k8MjU+Oz47bDx0PDtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/c3ViamVjdD1tb3VudGFpbjvnmbvlsbHmraXpgZM755m75bGx5q2l6YGTOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PW5hdHVyZTvnlJ/mhYvos4fmupA755Sf5oWL6LOH5rqQOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PWdlb2dyYXBoeTvoh6rnhLblnLDmma876Ieq54S25Zyw5pmvOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PWhvdHNwcmluZzvmuqvms4nluqblgYc75rqr5rOJ5bqm5YGHOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PWN1bHR1cmU75Lq65paH6Jed6KGTO+S6uuaWh+iXneihkzs+Pjs7Pjs+Pjt0PDtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/c3ViamVjdD1yZXNvcnQ75LyR6ZaS6L6y5aC0O+S8kemWkui+suWgtDs+Pjs7Pjs+Pjt0PDtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7dGFyZ2V0O3RpdGxlO2lubmVyaHRtbDs+O2w8aHR0cDovL3RvdXIudGFpbmFuLmdvdi50dy90ZW1wbGU7X2JsYW5rO+Wul+aVmeWQjeW7nzvlrpfmlZnlkI3lu587Pj47Oz47Pj47dDw7bDxpPDA+Oz47bDx0PHA8bDxocmVmO3RhcmdldDt0aXRsZTtpbm5lcmh0bWw7PjtsPGh0dHA6Ly93Mi1jdWx0dXJlLnRhaW5hbi5nb3YudHcvY29tbXVuaXR5LztfYmxhbms75Y+w5Y2X5paH5YyW6aSoO+WPsOWNl+aWh+WMlumkqDs+Pjs7Pjs+Pjt0PDtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/bm9kZWlkPTEyODAwO+ingOWFieW3peW7oDvop4DlhYnlt6Xlu6A7Pj47Oz47Pj47dDw7bDxpPDA+Oz47bDx0PHA8bDxocmVmO3RpdGxlO2lubmVyaHRtbDs+O2w8Li4vVGFpamlhbmcuYXNweDvlj7DmsZ/lnIvlrrblhazlnJI75Y+w5rGf5ZyL5a625YWs5ZySOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweDvmma/pu57mkJzlsIs75pmv6bue5pCc5bCLOz4+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjt0aXRsZTtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zdWJqZWN0PXNpcmF5YS1uc2E76KW/5ouJ6ZuF5ZyL5a626aKo5pmv5Y2AO+ilv+aLiembheWci+WutumiqOaZr+WNgDs+Pjs7Pjs+Pjt0PDtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7dGl0bGU7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/bm9kZWlkPTEyMjU5O+mbsuWYieWNl+a/sea1t+Wci+WutumiqOaZr+WNgDvpm7LlmInljZfmv7HmtbflnIvlrrbpoqjmma/ljYA7Pj47Oz47Pj47Pj47dDxwPHA8bDxTeXM7PjtsPDs+Pjs+O2w8aTwwPjs+O2w8dDxwPGw8c3JjOz47bDwvVXNlckNvbnRyb2xzLy4uL2ltYWdlcy9idXR0XzEuanBnOz4+Ozs+Oz4+O3Q8cDxwPGw8U3lzOz47bDw7Pj47PjtsPGk8MD47PjtsPHQ8cDxsPHNyYzs+O2w8L1VzZXJDb250cm9scy8uLi9pbWFnZXMvYnV0dF8zLmpwZzs+Pjs7Pjs+Pjt0PHA8cDxsPFN5czs+O2w8Oz4+Oz47bDxpPDA+Oz47bDx0PHA8bDxzcmM7PjtsPC9Vc2VyQ29udHJvbHMvLi4vaW1hZ2VzL2J1dHRfNS5qcGc7Pj47Oz47Pj47dDxwPHA8bDxTeXM7PjtsPDs+Pjs+O2w8aTwwPjs+O2w8dDxwPGw8c3JjOz47bDwvVXNlckNvbnRyb2xzLy4uL2ltYWdlcy9idXR0XzcuanBnOz4+Ozs+Oz4+Oz4+O3Q8cDxwPGw8TWVudTtTeXM7RGlzcGxheTtTdWJqZWN0O1NlYXNvbjtTbjtGU3lzO0NzeXM7PjtsPHZpZXc7U3BvdDs7bmF0dXJlOzs7Ozs+Pjs+O2w8aTwxPjs+O2w8dDxAMDxwPHA8bDxEYXRhS2V5cztfIUl0ZW1Db3VudDs+O2w8bDw+O2k8Mj47Pj47Pjs7Ozs7Ozs7PjtsPGk8MT47aTwzPjs+O2w8dDw7bDxpPDE+Oz47bDx0PHA8bDxjbGFzczs+O2w8aG9tZTs+PjtsPGk8MD47PjtsPHQ8cDxsPGhyZWY7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg75pmv6bue5LuL57S5Oz4+Ozs+Oz4+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPGw8Y2xhc3M7PjtsPFxlOz4+O2w8aTwwPjs+O2w8dDxwPGw8aHJlZjtpbm5lcmh0bWw7PjtsPDvnlJ/mhYvos4fmupA7Pj47Oz47Pj47Pj47Pj47Pj47dDxwPHA8bDxTeXM7RGlzcGxheTtTbjtTdWJqZWN0O1Rvd25TTjtTcG90TmFtZTtQYWdlQ291bnQ7VmlzaWJsZTs+O2w8c3BvdDs7O25hdHVyZTtpPDA+OztpPDY+O288dD47Pj47PjtsPGk8MD47aTwxPjtpPDI+O2k8ND47aTw2PjtpPDc+O2k8OD47aTw5Pjs+O2w8dDxwPGw8c3JjO2FsdDs+O2w8Li4vaW1hZ2VzLzAxXzNfdGl0bGUuZ2lmO+eUn+aFi+izh+a6kDs+Pjs7Pjt0PDtsPGk8MT47aTwzPjtpPDU+Oz47bDx0PDtsPGk8MD47PjtsPHQ8dDxwPHA8bDxEYXRhVGV4dEZpZWxkO0RhdGFWYWx1ZUZpZWxkOz47bDxTdWJqZWN0TmFtZTtTdWJqZWN0RW5nTmFtZTs+Pjs+O3Q8aTwxMT47QDzkuI3mi5g76Zuy5ZiJ5Y2X5r+x5rW35ZyL5a626aKo5pmv5Y2AO+ilv+aLiembheWci+WutumiqOaZr+WNgDvkurrmlofol53ooZM755Sf5oWL6LOH5rqQO+a6q+azieW6puWBhzvmsJHkv5fnr4DmhbY7576O6aOf5ZCN55SiO+S8kemWkui+suWgtDvoh6rnhLblnLDmma8755m75bGx5q2l6YGTOz47QDxcZTtzd2NvYXN0LW5zYTtzaXJheWEtbnNhO2N1bHR1cmU7bmF0dXJlO2hvdHNwcmluZztmZXN0aXZpdHk7ZmluZWZvb2Q7cmVzb3J0O2dlb2dyYXBoeTttb3VudGFpbjs+Pjs+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDx0PHA8cDxsPERhdGFUZXh0RmllbGQ7RGF0YVZhbHVlRmllbGQ7PjtsPFRvd25OYW1lO1NOOz4+Oz47dDxpPDM5PjtAPOiri+mBuOaTh+WcsOm7njvkuI3mi5g75Lit6KW/5Y2AO+adseWNgDvljZfljYA75YyX5Y2AO+WuieW5s+WNgDvlronljZfljYA75rC45bq35Y2AO+atuOS7geWNgDvmlrDljJbljYA75bem6Y6u5Y2AO+eOieS6leWNgDvmpaDopb/ljYA75Y2X5YyW5Y2AO+S7geW+t+WNgDvpl5zlu5/ljYA76b6N5bSO5Y2AO+WumOeUsOWNgDvpurvosYbljYA75L2z6YeM5Y2AO+ilv+a4r+WNgDvkuIPogqHljYA75bCH6LuN5Y2AO+WtuOeUsuWNgDvljJfploDljYA75paw54ef5Y2AO+W+jOWjgeWNgDvnmb3msrPljYA75p2x5bGx5Y2AO+WFreeUsuWNgDvkuIvnh5/ljYA75p+z54ef5Y2AO+m5veawtOWNgDvlloTljJbljYA75aSn5YWn5Y2AO+WxseS4iuWNgDvmlrDluILljYA75a6J5a6a5Y2AOz47QDxcZTtcZTszMjszMzszNDszNTszNjszNzsxOzI7Mzs0OzU7Njs3Ozg7OTsxMDsxMTsxMjsxMzsxNDsxNTsxNjsxNzsxODsxOTsyMDsyMTsyMjsyMzsyNDsyNTsyNjsyNzsyODsyOTszMDszMTs+Pjs+Ozs+Oz4+O3Q8O2w8aTwxPjs+O2w8dDxwPHA8bDxUZXh0O1Zpc2libGU7PjtsPDtvPGY+Oz4+Oz47Oz47Pj47Pj47dDxAMDxwPHA8bDxEYXRhS2V5cztfIUl0ZW1Db3VudDs+O2w8bDw+O2k8Nj47Pj47Pjs7Ozs7Ozs7PjtsPGk8MD47aTwxPjtpPDI+O2k8Mz47aTw0PjtpPDU+Oz47bDx0PDtsPGk8MD47aTwxPjs+O2w8dDxwPGw8aHJlZjt0YXJnZXQ7PjtsPC4uL3ZpZXcuYXNweD9zbj0yNTtfc2VsZjs+PjtsPGk8MD47PjtsPHQ8cDxsPHNyYzthbHQ7PjtsPC9Vc2VyQ29udHJvbHMvLi4vVXBsb2FkL1Nwb3QvSW1nRmlsZS8yNTYzMzUxMjk2MDMyNTMxMjUwMC5qcGc75bCH6LuN5ryB5rivOz4+Ozs+Oz4+O3Q8cDxsPGhyZWY7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/c249MjU7Jmx0XDsmbHRcO+Wwh+i7jeWNgCZndFw7Jmd0XDvlsIfou43mvIHmuK87Pj47Oz47Pj47dDw7bDxpPDA+O2k8MT47PjtsPHQ8cDxsPGhyZWY7dGFyZ2V0Oz47bDwuLi92aWV3LmFzcHg/c249Mjg7X3NlbGY7Pj47bDxpPDA+Oz47bDx0PHA8bDxzcmM7YWx0Oz47bDwvVXNlckNvbnRyb2xzLy4uL1VwbG9hZC9TcG90L0ltZ0ZpbGUvMjg2MzM1MTI5NjQ1NzA5Mzc1MDAuanBnO+e0heaoueael+iznumzpeWNgDs+Pjs7Pjs+Pjt0PHA8bDxocmVmO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3NuPTI4OyZsdFw7Jmx0XDvkuIPogqHljYAmZ3RcOyZndFw757SF5qi55p6X6LOe6bOl5Y2AOz4+Ozs+Oz4+O3Q8O2w8aTwwPjtpPDE+Oz47bDx0PHA8bDxocmVmO3RhcmdldDs+O2w8Li4vdmlldy5hc3B4P3NuPTMwO19zZWxmOz4+O2w8aTwwPjs+O2w8dDxwPGw8c3JjO2FsdDs+O2w8L1VzZXJDb250cm9scy8uLi9VcGxvYWQvU3BvdC9JbWdGaWxlLzMwNjMzMjMzODczMjI5Mzc5NzMyLmpwZzvpu5HpnaLnkLXpt7rkv53orbfljYA7Pj47Oz47Pj47dDxwPGw8aHJlZjtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zbj0zMDsmbHRcOyZsdFw75LiD6IKh5Y2AJmd0XDsmZ3RcO+m7kemdoueQtem3uuS/neitt+WNgDs+Pjs7Pjs+Pjt0PDtsPGk8MD47aTwxPjs+O2w8dDxwPGw8aHJlZjt0YXJnZXQ7PjtsPC4uL3ZpZXcuYXNweD9zbj0zMTtfc2VsZjs+PjtsPGk8MD47PjtsPHQ8cDxsPHNyYzthbHQ7PjtsPC9Vc2VyQ29udHJvbHMvLi4vVXBsb2FkL1Nwb3QvSW1nRmlsZS8zMTYzMzI3NzAwMzMzNzE4NzUwMC5qcGc76buR6Z2i55C16be655Sf5oWL5bGV56S66aSo77yI5Y6f6buR6Z2i55C16be656CU56m25Y+K5L+d6IKy566h55CG5Lit5b+D77yJOz4+Ozs+Oz4+O3Q8cDxsPGhyZWY7aW5uZXJodG1sOz47bDwuLi92aWV3LmFzcHg/c249MzE7Jmx0XDsmbHRcO+S4g+iCoeWNgCZndFw7Jmd0XDvpu5HpnaLnkLXpt7rnlJ/mhYvlsZXnpLrppKguLi47Pj47Oz47Pj47dDw7bDxpPDA+O2k8MT47PjtsPHQ8cDxsPGhyZWY7dGFyZ2V0Oz47bDwuLi92aWV3LmFzcHg/c249NjQ7X3NlbGY7Pj47bDxpPDA+Oz47bDx0PHA8bDxzcmM7YWx0Oz47bDwvVXNlckNvbnRyb2xzLy4uL1VwbG9hZC9TcG90L0ltZ0ZpbGUvNjQ2MzQwMDAxNDk1MjQzNDAwMDAuanBnO+WPsOeBo+iYreiKseeUn+eJqeenkeaKgOWckuWNgDs+Pjs7Pjs+Pjt0PHA8bDxocmVmO2lubmVyaHRtbDs+O2w8Li4vdmlldy5hc3B4P3NuPTY0OyZsdFw7Jmx0XDvlvozlo4HljYAmZ3RcOyZndFw75Y+w54Gj6Jit6Iqx55Sf54mp56eR5oqA5ZySLi4uOz4+Ozs+Oz4+O3Q8O2w8aTwwPjtpPDE+Oz47bDx0PHA8bDxocmVmO3RhcmdldDs+O2w8Li4vdmlldy5hc3B4P3NuPTg0O19zZWxmOz4+O2w8aTwwPjs+O2w8dDxwPGw8c3JjO2FsdDs+O2w8L1VzZXJDb250cm9scy8uLi9VcGxvYWQvU3BvdC9JbWdGaWxlLzg0NjMzMjc3MDA0NzQxNzE4NzUwLmpwZzvlpKrlurfntqDoibLpmqfpgZM7Pj47Oz47Pj47dDxwPGw8aHJlZjtpbm5lcmh0bWw7PjtsPC4uL3ZpZXcuYXNweD9zbj04NDsmbHRcOyZsdFw75p+z54ef5Y2AJmd0XDsmZ3RcO+WkquW6t+e2oOiJsumap+mBkzs+Pjs7Pjs+Pjs+Pjt0PHQ8O3Q8aTw2PjtAPOesrDHpoIE756ysMumggTvnrKwz6aCBO+esrDTpoIE756ysNemggTvnrKw26aCBOz47QDznrKwx6aCBO+esrDLpoIE756ysM+mggTvnrKw06aCBO+esrDXpoIE756ysNumggTs+Pjs+Ozs+O3Q8cDxwPGw8VGV4dDs+O2w8MzY7Pj47Pjs7Pjt0PHA8cDxsPFRleHQ7PjtsPDY7Pj47Pjs7Pjt0PHA8cDxsPFRleHQ7PjtsPDE7Pj47Pjs7Pjt0PHA8cDxsPFRleHQ7PjtsPDY7Pj47Pjs7Pjs+Pjt0PHA8cDxsPFN5cztEaXNwbGF5O1NuOz47bDxzcG90Ozs7Pj47PjtsPGk8OT47aTwxMD47aTwxMT47aTwxNT47PjtsPHQ8O2w8aTwwPjs+O2w8dDxAMDw7Ozs7Ozs7Oz47Oz47Pj47dDw7bDxpPDA+Oz47bDx0PEAwPDs7Ozs7Ozs7Pjs7Pjs+Pjt0PDtsPGk8MD47PjtsPHQ8QDA8Ozs7Ozs7Ozs+Ozs+Oz4+O3Q8O2w8aTwwPjs+O2w8dDxAMDw7Ozs7Ozs7Oz47Oz47Pj47Pj47Pj47dDxwPHA8bDxTaXRlSUQ7PjtsPGk8NTU+Oz4+Oz47bDxpPDA+O2k8MT47PjtsPHQ8cDxwPGw8VGV4dDs+O2w8MjAxNC8xMS8xMDs+Pjs+Ozs+O3Q8cDxsPGlubmVyaHRtbDs+O2w84oCn57i954CP6Ka95Lq65qyh77yaMTE2OTkyOTfmrKE7Pj47Oz47Pj47Pj47Pj47bDxWaWV3MTpTcG90TGlzdDE6U3BvdFF1ZXJ5MTppbWdidG5SdW5RdWVyeTs+PpjdbWnV5hD4U28//VYF0GQlsLD5'
      ,'View1:SpotList1:SpotQuery1:ddlSubject':'nature'
      ,'View1:SpotList1:SpotQuery1:ddlTown':''
      ,'View1:SpotList1:ddlPageList':form_data_number}
    tainan_nature = requests.post(tainan_nature_link, data=payload) 
    tainan_nature_text = tainan_nature.text.encode('utf-8')
    tainan_nature_soup=BeautifulSoup(tainan_nature_text)
    tainan_nature_table=tainan_nature_soup.find('table',{"id":"View1_SpotList1_dtlList"})
    tainan_nature_spans = tainan_nature_table.findAll('span',{"id":"main-wrapper"})
	##另開連結取得景點名稱
    for tainan_nature_span in tainan_nature_spans:
        nature_alink = tainan_nature_span.find('a',{"href":True})['href']
        nature_link=urlparse.urljoin(tainan_nature_link,nature_alink)
        nature_page=requests.get(nature_link)
        nature_page_text = nature_page.text.encode('utf-8')
        nature_page_soup=BeautifulSoup(nature_page_text)
        comments = nature_page_soup.findAll(text=lambda text:isinstance(text, Comment))
        [comment.extract() for comment in comments]
        
        nature_name = remove_space(nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblName"}).text.encode('utf-8'))
        nature_region = remove_space(nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblTownName"}).text.encode('utf-8'))

        nature_type = remove_space(nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblSubjectName"}).text.encode('utf-8'))

        nature_content = remove_space(nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblContent"}).text.encode('utf-8'))
        nature_url_a = nature_page_soup.find('a',{"id":"View1_SpotDetail1_aUrl"})
        if nature_url_a is not None:
            nature_url = remove_space(nature_url_a['href'].encode('utf-8'))
        else:
            nature_url="暫無提供"
        
        nature_address_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblAddress"})
        if nature_address_span is not None:
            nature_address = remove_space(nature_address_span.text.encode('utf-8'))
        else:
            nature_address = "暫無提供"
        
        nature_phone_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblTel"})
        if nature_phone_span is not None:
            nature_phone = remove_space(nature_phone_span.text.encode('utf-8'))
        else:
            nature_phone = "暫無提供"
      
        nature_food_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_dtlSpotToFineFood"})
        if nature_food_span is not None:
            nature_food=""
            nature_food_spans = nature_food_span.findAll('span',{'id':True})
            count=len(nature_food_spans)
            for food_span in nature_food_spans:
                count-=1
                nature_food +=remove_space(food_span.text.encode('utf-8'))
                if count!=0:
                    nature_food +="/"
        else:
            nature_food = "暫無提供"
        
        
        nature_house_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_dtlSpotToHospice"})
        if nature_house_span is not None:
            nature_house=""
            nature_house_spans = nature_house_span.findAll('span',{'id':True})
            count=len(nature_house_spans)
            for house_span in nature_house_spans:
                count-=1
                nature_house +=remove_space(house_span.text.encode('utf-8'))
                if count!=0:
                    nature_house +="/"
        else:
            nature_house = "暫無提供"

        
        nature_spot_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_dtlSpotToSpot"})
        if nature_spot_span is not None:
            nature_spot=""
            nature_spot_as = nature_spot_span.findAll('a',{'id':True})
            count=len(nature_spot_as)
            for spot_a in nature_spot_as:
                count-=1
                nature_spot +=remove_space(spot_a.text.encode('utf-8'))
                if count!=0:
                    nature_spot +="/"
        else:
            nature_spot = "暫無提供"
        
        
        nature_proposal_span=nature_page_soup.find('span',{"id":"View1_SpotDetail1_lblProposal"})
        if nature_proposal_span is not None:
            nature_proposal = remove_space(nature_proposal_span.text.encode('utf-8'))
        else:
            nature_proposal="暫無提供"
        file.write(nature_name+"|"+nature_region+"|"+nature_type+"|"+nature_url+"|")
        file.write(nature_address+"|"+nature_phone+"|"+nature_food+"|"+nature_house+"|"+nature_spot+"|"+nature_proposal+"|"+nature_content+"\n")
file.close()